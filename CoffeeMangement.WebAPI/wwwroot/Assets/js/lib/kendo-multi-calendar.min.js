var kendoExt,__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t};!function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.selectToday=function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=i.options.cleanSelectedItemsOnTodayClick?[e]:i._values.concat([e]);i.values(n)},i._values=n&&n.values||[],i.navigate(),i}return __extends(e,t),e.isSameDate=function(t,e){return t&&e&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},e.prototype.values=function(t){if(void 0!==t&&this.canSelectItems(t.length)){var n=this._values.filter(function(n){return t.every(function(t){return!e.isSameDate(n,t)})}),i=null;this._values=t.filter(function(n,a){for(i=a-1;i>=0;i-=1)if(e.isSameDate(n,t[i]))return!1;return!0}),this.updateSelection(this._values,n)}return this._values},e.prototype.value=function(n){var i=(this._values||[]).reduce(function(t,i,a){return e.isSameDate(i,n)?a:t},-1),a=-1===i,o=a&&this._values&&this.canSelectItems(this._values.length+1);if(a&&!o||t.prototype.value.call(this,n),n){var s=[];o?this._values.push(n):a||(s=this._values.splice(i,1)),this.updateSelection(this._values,s)}return t.prototype.value.call(this)},e.prototype.navigate=function(e,n){t.prototype.navigate.call(this,e,n),this.updateSelection(this._values)},e.prototype.navigateDown=function(t){if(t){var n=this._index;if(n===e._views[this.options.depth])return this.value(t),void this.trigger("change");this.navigate(t,n-1)}},e.prototype._todayClick=function(e){this.selectToday(),t.prototype._todayClick.call(this,e)},e.prototype.canSelectItems=function(t){var e=this.options.maxSelectedItems;return!e||t<=e},e.prototype.cellByDate=function(t){return this._table.find("td").filter(function(){return $(this.firstChild).attr(kendo.attr("value"))===t})},e.prototype.updateSelection=function(t,n){var i=this;if(void 0===t&&(t=[]),void 0===n&&(n=[]),this._index===e._views[this.options.depth]){var a="k-state-selected",o=this._value;o&&this.cellByDate(this.view().toDateString(o)).removeClass(a),t.forEach(function(t){i.cellByDate(i.view().toDateString(t)).addClass(a)}),n.forEach(function(t){i.cellByDate(i.view().toDateString(t)).removeClass(a)})}},e._views={month:0,year:1,decade:2,century:3},e}(kendo.ui.Calendar);t.MultiCalendar=e,e.fn=e.prototype,e.fn.options=__assign({},kendo.ui.Calendar.fn.options,{name:"MultiCalendar",values:[],maxSelectedItems:null,cleanSelectedItemsOnTodayClick:!0}),kendo.ui.plugin(e)}(kendoExt||(kendoExt={}));